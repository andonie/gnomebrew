{% extends "stations/_station.html" %}

{% block pre_header %}
    <div class="gb-toggle-view{% if current_user.get('selection._bool.station_quest_open', default=True, id_buffer=id_buffer) %} gb-toggle-view-active{% endif %}" data-toggles=".quest-sidebar" id="quest-close-button" data-display="#quest-icon" data-inform=".gb-main" data-sync="selection._bool.quest_expanded">
        {{ icon('special.cancel') | safe }}
    </div>
{% endblock %}


{% block station_body %}
{% with active_quests = current_user.get('quest._active', id_buffer=buffer) %}
<div class="quest-view-navigation">

</div>
<div class="quest-view-content">
    <div class="gb-icon-group gb-quest-headline gb-toggle-view" data-toggles=".active-quests">
        {{ icon('special.active_quests') | safe }}
        Active Quests
    </div>
    <div class="quest-list active-quests gb-foldout">
        {% for quest_id in active_quests %}
        {{ render_object('render.quest_state', data=active_quests[quest_id]) | safe }}
        {% endfor %}
    </div>
</div>
{% endwith %}
{% endblock %}
